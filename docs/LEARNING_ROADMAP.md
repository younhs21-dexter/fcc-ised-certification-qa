# FCC/ISED 인증 Q&A 시스템 학습 로드맵

## 문서 계층 구조

```
┌─────────────────────────────────────────────────────────────┐
│  eCFR (규제)                                                │
│  "무엇을 만족해야 하는가?"                                    │
│  - 시험 제한치 (출력, 스퓨리어스, 대역폭)                      │
│  - 기본 요구사항                                             │
│  - 적용 주파수 대역                                          │
└─────────────────────┬───────────────────────────────────────┘
                      ↓
┌─────────────────────────────────────────────────────────────┐
│  KDB (가이던스)                                              │
│  "어떻게 시험해야 하는가?"                                    │
│  - 시험 절차 (Test Procedure)                                │
│  - 측정 방법 (RBW, Detector 등)                              │
│  - 해석 가이던스                                             │
└─────────────────────┬───────────────────────────────────────┘
                      ↓
┌─────────────────────────────────────────────────────────────┐
│  Test Report (실무)                                          │
│  "실제로 어떻게 했는가?"                                      │
│  - 상세 시험 프로시져                                        │
│  - 사용 장비 (Spectrum Analyzer, Signal Generator)           │
│  - 시험 셋업 사진/다이어그램                                  │
│  - 실제 측정 데이터                                          │
└─────────────────────────────────────────────────────────────┘
```

---

## Q&A 학습 체계 (4단계)

```
┌─────────────────────────────────────────────────────────────────┐
│                      전체 학습 아키텍처                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  Phase 1        Phase 2         Phase 3         Phase 4        │
│  ─────────     ─────────       ─────────       ─────────       │
│  기초 Q&A   →  수평 크로스  →  수직 크로스  →  통합 Q&A        │
│  (단일문서)     (동종끼리)      (이종 연결)     (종합 답변)      │
│                                                                 │
│  규격→Q&A      레포트↔레포트   규격↔레포트    모든 소스 통합    │
│  레포트→Q&A                                                     │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## Phase 1: 기초 Q&A (단일 문서)

**목적:** 각 문서의 핵심 내용을 Q&A로 추출

### 1-A: 규격 자체 Q&A ✅ 완료

```
[eCFR]                         [KDB]
├── Part 2 (일반)              ├── 789033 (단거리)
├── Part 15B (비의도)          ├── 987594 (저출력)
├── Part 15C (의도)            ├── 662911 (RF Exposure)
├── Part 15E (UNII)            ├── 905462 (UNII)
└── Part 18 (ISM)              ├── 558074 (WLAN 측정)
                               └── 388624 (DFS)

[표준]                         [RSS]
├── ANSI C63.10-2020           ├── RSS-247
└── ANSI C63.4                 ├── RSS-GEN
                               └── RSS-248
```

**포커스:**
- [ ] 제한치 (Limits)
- [ ] 정의 (Definitions)
- [ ] 적용 조건 (Applicability)
- [ ] 측정 요구사항 (Measurement requirements)

**상태:** ✅ 413개 완료

### 1-B: 레포트 자체 Q&A ⬚ 예정

각 Test Report에서 추출:
- [ ] EUT 정보 (제품 스펙)
- [ ] 시험 항목 목록
- [ ] 사용 장비
- [ ] 측정값 및 결과
- [ ] 시험 셋업/구성

**예상:** 레포트당 15-20개 Q&A

---

## Phase 2: 수평 크로스 (동종 문서끼리)

**목적:** 같은 유형 문서끼리 비교하여 패턴 추출

### 2-A: 레포트 ↔ 레포트 크로스

```
기술별 그룹핑:

[UNII 그룹]
TR_UNII_A.pdf ←→ TR_UNII_B.pdf ←→ TR_UNII_C.pdf
     ↓
"UNII 시험 시 공통적으로..."

[Bluetooth 그룹]
TR_BT_A.pdf ←→ TR_BT_B.pdf
     ↓
"BT 시험 시 일반적으로..."
```

**포커스:**
- [ ] 공통 장비/셋업
- [ ] 일반적인 마진 범위
- [ ] 자주 발생하는 이슈
- [ ] Best Practice

**예상:** 그룹당 30-50개 크로스 Q&A

### 2-B: 규격 ↔ 규격 크로스 (선택)

```
관련 규격끼리 연결:

Part 15E ←→ KDB 905462
"Part 15E에서 요구하고, KDB에서 방법 제시"

Part 15C ←→ KDB 248227 ←→ ANSI C63.10
"DTS 규격 → KDB 가이던스 → 측정 표준"
```

---

## Phase 3: 수직 크로스 (규격 ↔ 레포트)

**목적:** 이론(규격)과 실무(레포트) 연결

### 입력 구성

```
┌─────────────┐         ┌─────────────┐
│ Part 15E    │         │ UNII 레포트  │
│ + KDB 905462│    +    │ (다수)       │
└─────────────┘         └─────────────┘
```

### 포커스별 Q&A 생성

**Focus A: 제한치 vs 실측**
```
"규격 제한 + 실제 측정값 + 마진"

Q: "UNII-1 출력 마진 얼마나 나와?"
A: "제한 30dBm, 실측 28.5dBm, 마진 1.5dB"
```

**Focus B: 절차 vs 실제**
```
"KDB 절차 + 레포트 실제 수행 방법"

Q: "PSD 측정 RBW 뭐 써야 해?"
A: "규격: 1MHz, 실제: R&S FSW로 1MHz RBW 사용"
```

**Focus C: 장비/셋업**
```
"요구 조건 + 실제 사용 장비 + 셋업"

Q: "Conducted 측정 장비 뭐 써?"
A: "Power Meter (Keysight N1912A) + 30dB Attenuator"
```

**Focus D: 실무 팁**
```
"주의사항 + 마진 적은 항목 + 권장사항"

Q: "UNII 출력 시험에서 조심할 점?"
A: "채널 149에서 출력 최대, 마진 확인 필수"
```

**예상:** 기술당 50-80개 크로스 Q&A

---

## Phase 4: 통합 Q&A (최종)

**목적:** 모든 소스를 통합한 종합 답변 생성

### 출력 형식

```
Q: "UNII-1 출력 시험 전체 가이드"

A: 📋 규격 요약
   - 적용: Part 15 Subpart E, §15.407
   - 제한: 1W EIRP (30 dBm)
   - 대역: 5150-5250 MHz

   📝 시험 절차 (KDB 905462)
   - Peak Power 측정
   - RBW: 1 MHz, Detector: Peak
   - 모든 채널, 최대 출력 모드

   🔧 실무 (레포트 기반)
   - 장비: R&S FSW 권장
   - 일반 마진: 1-3 dB
   - 주의: 채널 149 출력 최대

   ⚠️ 팁
   - 안테나 게인 정확히 반영
   - 케이블 손실 보정 필수
```

---

## 실행 일정 및 예상 결과

| Phase | 작업 | 예상 Q&A | 상태 |
|-------|------|----------|------|
| 1-A | 규격 자체 Q&A | ~400개 | ✅ 완료 |
| 1-B | 레포트 자체 Q&A | ~100개 | ⬚ 예정 |
| 2-A | 레포트↔레포트 크로스 | ~150개 | ⬚ 예정 |
| 2-B | 규격↔규격 크로스 | ~50개 | ⬚ 선택 |
| 3 | 규격↔레포트 크로스 | ~300개 | ⬚ 예정 |
| 4 | 통합 종합 Q&A | ~100개 | ⬚ 예정 |
| | **총합** | **~1100개** | |

### 예상 비용 (Haiku 기준)

```
Phase 1-B: ~$1-2
Phase 2:   ~$2-3
Phase 3:   ~$3-5
Phase 4:   ~$2-3
─────────────────
총합:      ~$10-15
```

---

## 핵심 원칙

```
1. 원문 기반 (정확도 우선)
   - 항상 원문에서 생성
   - 2차 가공물 재사용 최소화

2. 포커스 지정 (품질 관리)
   - 각 단계별 명확한 포커스
   - 중복/불필요 Q&A 방지

3. 점진적 확장 (안정성)
   - Phase 순서대로 진행
   - 각 단계 검증 후 다음 단계

4. 레포트 추가 = 품질 향상
   - 레포트 많을수록 패턴 정확
   - 지속적으로 레포트 추가 권장
```

---

## 기본 규격 목록 (고정)

### eCFR (규제)
| Part | 내용 | 우선순위 |
|------|------|---------|
| Part 2 | 일반 규정 | 높음 |
| Part 15B | 비의도 방사 | 중간 |
| Part 15C | 의도 방사 (DTS) | 높음 |
| Part 15E | UNII | 높음 |
| Part 18 | ISM 장비 | 낮음 |

### KDB (가이던스)
| KDB | 내용 | 우선순위 |
|-----|------|---------|
| 905462 | U-NII 시험 절차 | 높음 |
| 558074 | WLAN 측정 | 높음 |
| 388624 | DFS | 높음 |
| 789033 | 단거리 기기 | 중간 |
| 987594 | 저출력 기기 | 중간 |
| 662911 | RF Exposure | 중간 |
| 248227 | DTS 15.247 | 중간 |

### 표준
| 표준 | 내용 | 우선순위 |
|------|------|---------|
| ANSI C63.10-2020 | 비허가 기기 측정 | 높음 |
| ANSI C63.4 | EMC 측정 | 중간 |

---

## 패키지 기반 크로스 레퍼런스 학습 (핵심 전략)

### 개념

Test Report에는 적용된 규격이 모두 나열되어 있음. 이를 활용하여 **패키지 단위**로 연관 문서를 묶어서 크로스 학습.

```
┌─────────────────────────────────────────────────────────────────┐
│                    📦 인증 패키지 구조                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  Test Report (중심)                                      │   │
│  │  "이 제품은 이렇게 시험했다"                               │   │
│  │  - 적용 규격 목록 (FCC ID, Part 번호, KDB 번호)           │   │
│  │  - 시험 결과 데이터                                       │   │
│  │  - 사용 장비/셋업                                         │   │
│  └──────────────────────┬──────────────────────────────────┘   │
│                         │                                       │
│         ┌───────────────┼───────────────┐                       │
│         ↓               ↓               ↓                       │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐               │
│  │ eCFR        │ │ KDB         │ │ 연관 자료    │               │
│  │ (규제)      │ │ (가이던스)   │ │ (실무)       │               │
│  │             │ │             │ │             │               │
│  │ Part 15E    │ │ KDB 905462  │ │ 튠업 데이터  │               │
│  │ Part 15C    │ │ KDB 558074  │ │ 안테나 패턴  │               │
│  │ Part 2      │ │ KDB 388624  │ │ SAR 리포트   │               │
│  └─────────────┘ └─────────────┘ └─────────────┘               │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 패키지 정의 예시

```python
# 패키지 구조 정의
CERTIFICATION_PACKAGES = {
    "UNII_5GHz_AP": {
        "name": "UNII 5GHz Access Point",
        "test_reports": [
            "TR_UNII_5GHz_AP_2024.pdf"
        ],
        "ecfr": [
            "Part_15_Subpart_E.pdf",    # UNII 규정
            "Part_2_Subpart_J.pdf"       # 일반 규정
        ],
        "kdb": [
            "KDB_905462.pdf",            # U-NII 시험 절차
            "KDB_558074.pdf",            # WLAN 측정
            "KDB_388624.pdf"             # DFS
        ],
        "related": [
            "Antenna_Pattern_Data.xlsx",
            "Tune_Up_Log.xlsx",
            "Equipment_Cal_Certs.pdf"
        ]
    },
    "WiFi6E_Router": {
        "name": "Wi-Fi 6E Router (6GHz)",
        "test_reports": ["TR_WiFi6E_Router_2024.pdf"],
        "ecfr": ["Part_15_Subpart_E.pdf"],
        "kdb": ["KDB_996369.pdf", "KDB_905462.pdf"],
        "related": ["AFC_Config_Data.json"]
    },
    "Bluetooth_Module": {
        "name": "Bluetooth Classic + LE Module",
        "test_reports": ["TR_BT_Module_2024.pdf"],
        "ecfr": ["Part_15_Subpart_C.pdf"],
        "kdb": ["KDB_784748.pdf", "KDB_248227.pdf"],
        "related": ["BT_Protocol_Log.txt"]
    }
}
```

### 크로스 레퍼런스 Q&A 생성 방식

```
[Step 1] Test Report 분석
         - 적용 규격 목록 추출
         - 시험 항목/결과 추출

[Step 2] 연관 규격 매핑
         - Test Report에서 참조한 eCFR 조항 식별
         - Test Report에서 참조한 KDB 섹션 식별

[Step 3] 크로스 Q&A 생성
         질문: "UNII-1 출력 어떻게 측정해?"

         답변:
         📋 규정 (eCFR §15.407):
            - 제한치: 1W EIRP (30 dBm)
            - 적용 대역: 5150-5250 MHz

         📝 시험 절차 (KDB 905462 Section 7):
            - Peak Power 측정
            - RBW: 1 MHz
            - Detector: Peak

         🔧 실제 예시 (Test Report):
            - 장비: R&S FSW43 Spectrum Analyzer
            - 측정값: 28.5 dBm (Pass)
            - 셋업: DUT → 30dB Attenuator → SA
```

### 구현 단계

#### Phase A: 패키지 정의 (1일)
```
1. 기존 Test Report에서 적용 규격 추출
2. 패키지 JSON 구조 정의
3. 패키지별 문서 매핑
```

#### Phase B: 크로스 레퍼런스 추출 (2-3일)
```
1. Test Report에서 조항 번호 추출 (§15.407, Part 2.1046 등)
2. KDB 섹션 번호 추출 (Section 7.1, 8.2 등)
3. 규격 ↔ 레포트 간 매핑 테이블 생성
```

#### Phase C: 패키지 Q&A 생성 (3-5일)
```
1. 패키지별 종합 Q&A 생성
2. 3방향 연결: eCFR ↔ KDB ↔ Test Report
3. 실제 측정 예시 포함
```

#### Phase D: 검증 및 피드백 (지속)
```
1. 생성된 Q&A 품질 검토
2. 실무자 피드백 반영
3. 누락된 연결 보완
```

### 기대 효과

| 현재 | 패키지 학습 후 |
|------|--------------|
| 단편적 정보 제공 | 종합적 답변 (규정+절차+예시) |
| "제한치가 뭐야?" | "제한치 + 측정법 + 실제 결과" |
| 문서 간 연결 없음 | 3방향 크로스 레퍼런스 |
| 이론 위주 | 실무 데이터 포함 |

### 튠업/연관 자료 활용

```
튠업 데이터 활용 예시:
- "왜 채널 36에서 출력이 가장 높아?"
  → 튠업 로그에서 채널별 출력 차이 확인

- "안테나 게인이 얼마야?"
  → 안테나 패턴 데이터에서 피크 게인 확인

- "SAR 시험 거리는?"
  → SAR 리포트에서 실제 측정 거리 확인
```

### 실행 명령

```bash
# 패키지 기반 Q&A 생성 (예정)
python scripts/generate_package_qa.py --package "UNII_5GHz_AP"

# 전체 패키지 일괄 생성
python scripts/generate_package_qa.py --all

# 특정 Test Report에서 패키지 자동 생성
python scripts/create_package_from_report.py --report "TR_UNII_5GHz.pdf"
```

---

*작성일: 2026-01-31*
*업데이트: 2026-01-31 (패키지 기반 학습 계획 추가)*
*Claude와 함께 계획*
