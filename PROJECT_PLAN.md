# AI 자동화 시스템 프로젝트 계획서

> 최종 수정일: 2026-01-30

---

## 1. 프로젝트 개요

### 1.1 목적
- FCC 등 국가 기관의 시험 규격을 학습하여 시험 방법 및 제한치 학습
- 내부 시험 가이드 및 팁 문서를 학습하여 상황 대처 답변 모델 제작
- 자체 제작 프로그램의 사용자 동작 로그를 학습하여 행동 자동화

### 1.2 궁극적 목표
- 어느 상황에서도 사람을 대체할 수 있는 학습 모델 구축

### 1.3 프로젝트 배경
- 경량화된 AI 모델의 보급
- 로컬 PC에서 AI 구축 가능
- 충분한 하드웨어 스펙 (GPU + CUDA 지원)

---

## 2. 시스템 아키텍처

### 2.1 전체 구조
```
[문서 데이터] → [벡터DB] → [검색/RAG] → [LLM 추론] → [답변/행동 실행]
```

### 2.2 핵심 구성요소
| 구성요소 | 역할 |
|----------|------|
| 문서 전처리 | PDF, TXT 등 문서를 청크 단위로 분할 |
| 임베딩 모델 | 텍스트를 벡터로 변환 |
| 벡터DB | 벡터 저장 및 유사도 검색 |
| LLM | 검색 결과 기반 추론 및 답변 생성 |
| Agent | 추론 결과를 실제 행동으로 실행 |

---

## 3. 개발 단계

| 단계 | 내용 | 산출물 | 상태 |
|------|------|--------|------|
| 1 | 데이터 수집 및 전처리 | 정제된 문서 | ✅ 완료 |
| 2 | 벡터DB 구축 + 임베딩 | ChromaDB 인덱스 | ✅ 완료 |
| 3 | RAG 파이프라인 + LLM 연동 | Q&A 기능 | ✅ 완료 |
| 4 | UI 구축 | Streamlit 웹 앱 | ✅ 완료 |
| 5 | 행동 로그 수집 및 학습 | 행동 패턴 DB | 미착수 |
| 6 | 제안/가이드 시스템 | 상황별 추천 기능 | 미착수 |
| 7 | 자동 실행 (Agent) | 실제 동작 수행 | 미착수 |

---

## 4. 기술 스택 (제안)

| 분류 | 기술 | 비고 |
|------|------|------|
| 언어 | Python | 메인 개발 언어 |
| RAG 프레임워크 | LangChain / LlamaIndex | 선택 필요 |
| 벡터DB | ChromaDB / FAISS | 로컬 환경에 적합 |
| 로컬 LLM | Ollama + Llama 3 / Mistral | GPU 활용 |
| UI | Streamlit (MVP) → FastAPI + React | 단계별 확장 |

---

## 5. 확정 사항

### 5.1 학습 데이터 소스
| 분류 | 형태 | 설명 |
|------|------|------|
| FCC 규격 | PDF, 웹사이트 | 시험 규격 및 제한치 |
| RF Test Report | PDF | 시험 결과 보고서 |
| Tune-up 문서 | PDF | 고객사 제공 문서 |
| TCB 메일 | 이메일 | 수정 및 보완 요청 내용 |
| 내부 가이드 | 문서 | 시험 팁 및 노하우 |

### 5.2 자체 프로그램
- **언어**: Python
- **연동 방식**: AI 모델 구축 후 프로그램과 함께 수정 예정
- **현재 조치**: 별도 수정 불필요

### 5.3 행동 실행 단계
| 단계 | 수준 | 설명 |
|------|------|------|
| 1단계 | 제안 | 상황에 맞는 행동 제안만 |
| 2단계 | 간접 서포트 | 사용자 확인 후 보조 실행 |
| 3단계 | 자율 행동 | 학습된 패턴 기반 자체 실행 |

### 5.4 개발 우선순위 (확정)
```
[1] 데이터 수집/전처리 → [2] 벡터DB → [3] RAG + Q&A → [4] UI → [5] 행동 학습 → [6] 제안 → [7] Agent
```

**근거:**
- Q&A 시스템이 모든 기능의 기반 (지식 검색 필수)
- 단순한 것부터 복잡한 것으로 진행
- UI를 중간에 배치하여 이후 테스트 용이
- 행동 자동화는 Q&A가 안정화된 후 진행

---

## 6. 회의록 / 논의 기록

### 2026-01-30 - 초기 논의
- 프로젝트 목적 및 배경 공유
- 개발 단계 초안 작성
- 기술 스택 제안
- UI 필요성 확인 (CLI만으로는 테스트 불편)

### 2026-01-30 - 상세 요구사항 확정
- 학습 데이터 소스 확정: FCC(PDF/웹), RF Test Report, Tune-up 문서, TCB 메일
- 자체 프로그램: Python 기반, 추후 연동 예정
- 행동 실행 3단계 정의: 제안 → 간접 서포트 → 자율 행동
- 개발 우선순위 확정: Q&A 시스템 먼저, 행동 자동화는 후순위

### 2026-01-30 - 1단계 데이터 수집 완료
**수집 결과:**
| 소스 | 상태 | 파일 수 | 비고 |
|------|------|---------|------|
| eCFR | 완료 | API 연동 | 47 CFR Part 15B 테스트 성공 |
| KDB | 완료 | 98개 PDF (32 KDB) | 기존 FCC 폴더에서 정리 |
| RSS | 완료 | HTML+TXT | RSS-247 테스트 성공 |

**생성된 스크립트:**
- `scripts/config.py` - 설정 파일
- `scripts/scraper.py` - 통합 스크래퍼 (eCFR API, RSS)
- `scripts/organize_kdb.py` - KDB 파일 정리

**폴더 구조:**
```
aidata/
├── raw_data/
│   ├── ecfr/     # eCFR 규정 (API)
│   ├── kdb/      # KDB 문서 (32개 폴더, 98개 PDF)
│   └── rss/      # ISED RSS 규격
├── vector_db/    # ChromaDB 벡터 저장소 (41MB)
└── processed_data/  # 추가 처리 데이터
```

### 2026-01-30 - 2~4단계 완료

**2단계: 벡터DB 구축**
- PyMuPDF로 PDF 텍스트 추출
- 청킹 (800자, 100자 오버랩)
- SentenceTransformers (all-MiniLM-L6-v2) 임베딩
- ChromaDB 저장: 3개 컬렉션, ~1,800+ 청크

**3단계: RAG 시스템**
- 벡터 유사도 검색 구현
- LLM 프롬프트 템플릿 (한국어)
- Ollama/Mock 백엔드 지원

**4단계: UI 구축**
- Streamlit 웹 앱 (`app.py`)
- 실행: `run_app.bat` 또는 `streamlit run app.py`
- 기능: 질문 입력, 검색 결과, 출처 확인

### 2026-01-30 - 전체 데이터 수집 및 벡터DB 재구축

**전체 데이터 수집 완료:**
| 소스 | 파일 수 | 비고 |
|------|---------|------|
| eCFR | 17개 | Part 2, 5, 15, 18, 22-27, 30, 68, 90, 96, 101 |
| RSS | 34개 | ISED 캐나다 무선 규격 |
| KDB | 32개 (98 PDF) | 기존 FCC 폴더에서 정리 |
| Test Report | 5개 | UNII, UWB, WWAN, DTS, BT |

**벡터DB 재구축 완료:**
| 컬렉션 | 청크 수 |
|--------|---------|
| KDB | 4,865 |
| eCFR | 9,612 |
| RSS | 1,315 |
| Test Report | 807 |
| **총계** | **16,599** |

**LLM 설정:**
- Ollama 설치 완료
- Qwen2:7b (한국어 지원) - 기본값
- Llama3:8b (영어) - 선택 가능
- CUDA 12.4 + RTX 4070 Laptop GPU 활용

---

## 7. 다음 단계

### 5단계: 행동 로그 수집 및 학습
- [ ] 로그 수집 모듈 개발 (BehaviorLogger)
- [ ] 로그 분석 및 패턴 추출
- [ ] 패턴 벡터화 및 저장

### 6단계: 제안/가이드 시스템
- [ ] 상황 인식 모듈
- [ ] 패턴 매칭 기반 추천

### 7단계: 자동 실행 (Agent)
- [ ] 행동 실행 인터페이스
- [ ] 확인 모드 / 자율 모드

---

*이 문서는 프로젝트 진행에 따라 지속적으로 업데이트됩니다.*
